{"ast":null,"code":"import _slicedToArray from \"/Users/home/Desktop/Rippling Academy/week2/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/home/Desktop/Rippling Academy/week2/my-app/src/2048/2048.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport './2048.css';\nvar currentScore = 0;\n\nfunction emptyBoard() {\n  return [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n}\n\n;\n\nfunction hasValue(board, value) {\n  for (var i = 0; i < board.length; ++i) {\n    for (var j = 0; j < board[i].length; ++j) {\n      if (board[i][j] === value) return true;\n    }\n  }\n\n  return false;\n}\n\nfunction isFull(board) {\n  return !hasValue(board, 0);\n}\n\nfunction getRandomPosition() {\n  var rowPosition = Math.floor(Math.random() * 4);\n  var colPosition = Math.floor(Math.random() * 4);\n  return [rowPosition, colPosition];\n}\n\nfunction getRandomBoard(board) {\n  if (isFull(board)) return board;\n\n  var _getRandomPosition = getRandomPosition(),\n      _getRandomPosition2 = _slicedToArray(_getRandomPosition, 2),\n      row = _getRandomPosition2[0],\n      col = _getRandomPosition2[1];\n\n  while (board[row][col] !== 0) {\n    var _getRandomPosition3 = getRandomPosition();\n\n    var _getRandomPosition4 = _slicedToArray(_getRandomPosition3, 2);\n\n    row = _getRandomPosition4[0];\n    col = _getRandomPosition4[1];\n  }\n\n  board[row][col] = 2;\n  return board;\n}\n\nfunction compressToLeft(board) {\n  var newBoard = emptyBoard();\n\n  for (var i = 0; i < board.length; ++i) {\n    var col = 0;\n\n    for (var j = 0; j < board[i].length; ++j) {\n      if (board[i][j] !== 0) {\n        newBoard[i][col] = board[i][j];\n        col++;\n      }\n    }\n  }\n\n  return newBoard;\n}\n\nfunction merge(board) {\n  for (var i = 0; i < board.length; ++i) {\n    for (var j = 0; j < board[i].length - 1; ++j) {\n      if (board[i][j] !== 0 && board[i][j] === board[i][j + 1]) {\n        currentScore += board[i][j];\n        board[i][j] *= 2;\n        board[i][j + 1] = 0;\n      }\n    }\n  }\n\n  return board;\n}\n\nfunction reverseForRight(board) {\n  var reversed = emptyBoard();\n\n  for (var i = 0; i < board.length; ++i) {\n    for (var j = 0; j < board[i].length; j++) {\n      reversed[i][j] = board[i][board[i].length - j - 1];\n    }\n  }\n\n  return reversed;\n}\n\nfunction rotateLeft(board) {\n  var rotateBoard = emptyBoard();\n\n  for (var i = 0; i < board.length; i++) {\n    for (var j = 0; j < board[i].length; j++) {\n      rotateBoard[i][j] = board[j][board[i].length - 1 - i];\n    }\n  }\n\n  return rotateBoard;\n}\n\n;\n\nfunction rotateRight(board) {\n  var rotateBoard = emptyBoard();\n\n  for (var i = 0; i < board.length; i++) {\n    for (var j = 0; j < board[i].length; j++) {\n      rotateBoard[i][j] = board[board[i].length - 1 - j][i];\n    }\n  }\n\n  return rotateBoard;\n}\n\n;\n\nfunction left(board) {\n  var newBoard1 = compressToLeft(board);\n  var newBoard2 = merge(newBoard1);\n  return compressToLeft(newBoard2);\n}\n\nfunction right(board) {\n  var newBoard1 = reverseForRight(board);\n  var newBoard2 = left(newBoard1);\n  return reverseForRight(newBoard2);\n}\n\nfunction up(board) {\n  var newBoard1 = rotateLeft(board);\n  var newBoard2 = left(newBoard1);\n  return rotateRight(newBoard2);\n}\n\nfunction down(board) {\n  var newBoard1 = rotateRight(board);\n  var newBoard2 = left(newBoard1);\n  return rotateLeft(newBoard2);\n}\n\nfunction hasWon(board) {\n  return hasValue(board, 2048);\n}\n\nfunction hasDiff(board, movedBoard) {\n  for (var i = 0; i < board.length; i++) {\n    for (var j = 0; j < board[i].length; j++) {\n      if (board[i][j] !== movedBoard[i][j]) return true;\n    }\n  }\n\n  return false;\n}\n\nfunction isGameOver(board) {\n  if (hasDiff(board, left(board))) {\n    return false;\n  }\n\n  if (hasDiff(board, right(board))) {\n    return false;\n  }\n\n  if (hasDiff(board, up(board))) {\n    return false;\n  }\n\n  if (hasDiff(board, down(board))) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction checkGameEnded(board) {\n  if (hasWon(board)) console.log(\"!!!YOU WON!!!!\");else if (isGameOver(board)) console.log(\"YOU LOST YOU LOSER!\");\n}\n\nvar Cell = function Cell(_ref) {\n  var number = _ref.number;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"Cell Cell-\".concat(number),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 5\n    }\n  }, number > 0 ? number : \"\");\n};\n\nfunction Two048() {\n  var _this2 = this;\n\n  var initialBoard = getRandomBoard(emptyBoard());\n  var newBoard = getRandomBoard(emptyBoard());\n\n  var _useState = useState(getRandomBoard(initialBoard)),\n      _useState2 = _slicedToArray(_useState, 2),\n      board = _useState2[0],\n      updateBoard = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      score = _useState4[0],\n      updateScore = _useState4[1];\n\n  var bestScoreFromStorage = JSON.parse(localStorage.getItem('bestScore'));\n\n  var _useState5 = useState(bestScoreFromStorage),\n      _useState6 = _slicedToArray(_useState5, 2),\n      bestScore = _useState6[0],\n      updateBestScore = _useState6[1];\n\n  function pressedLeft() {\n    updateBoard(getRandomBoard(left(board)));\n    updateScore(currentScore);\n\n    if (currentScore > bestScore) {\n      localStorage.setItem('bestScore', JSON.stringify(currentScore));\n      updateBestScore(currentScore);\n    }\n\n    checkGameEnded(board);\n  }\n\n  function pressedRight() {\n    updateBoard(getRandomBoard(right(board)));\n    updateScore(currentScore);\n\n    if (currentScore > bestScore) {\n      localStorage.setItem('bestScore', JSON.stringify(currentScore));\n      updateBestScore(currentScore);\n    }\n\n    checkGameEnded(board);\n  }\n\n  function pressedUp() {\n    updateBoard(getRandomBoard(up(board)));\n    updateScore(currentScore);\n\n    if (currentScore > bestScore) {\n      localStorage.setItem('bestScore', JSON.stringify(currentScore));\n      updateBestScore(currentScore);\n    }\n\n    checkGameEnded(board);\n  }\n\n  function pressedDown() {\n    updateBoard(getRandomBoard(down(board)));\n    updateScore(currentScore);\n\n    if (currentScore > bestScore) {\n      localStorage.setItem('bestScore', JSON.stringify(currentScore));\n      updateBestScore(currentScore);\n    }\n\n    checkGameEnded(board);\n  }\n\n  function onKeyDown(event) {\n    switch (event.key) {\n      case \"ArrowLeft\":\n        pressedLeft();\n        break;\n\n      case \"ArrowRight\":\n        pressedRight();\n        break;\n\n      case \"ArrowUp\":\n        pressedUp();\n        break;\n\n      case \"ArrowDown\":\n        pressedDown();\n        break;\n\n      default:\n    }\n\n    console.log(currentScore);\n  }\n\n  useEffect(function () {\n    window.addEventListener(\"keydown\", onKeyDown);\n    return function () {\n      window.removeEventListener(\"keydown\", onKeyDown);\n    };\n  });\n\n  var newGame = function newGame() {\n    updateBoard(getRandomBoard(newBoard));\n    updateScore(0);\n    currentScore = 0;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Game\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Two048\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 11\n    }\n  }, \"2048\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Scores-new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Scores\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Score\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 17\n    }\n  }, \"Score\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Current-score\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 17\n    }\n  }, score)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Score\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 17\n    }\n  }, \"Best\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 17\n    }\n  }, bestScore))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"New-game-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Button\",\n    onClick: newGame,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 44\n    }\n  }, \"New Game\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Board\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 9\n    }\n  }, board.map(function (row, i) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: 'row-${i}',\n      className: \"Row\",\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 15\n      }\n    }, row.map(function (cell, j) {\n      return /*#__PURE__*/React.createElement(Cell, {\n        key: 'cell-${i}-${j}',\n        number: cell,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 37\n        }\n      });\n    }));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 12\n    }\n  }, \"HOW TO PLAY:\"), \" Use your \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 41\n    }\n  }, \"arrow keys\"), \" to move the tiles. Tiles\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }\n  }, \"with same number \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 29\n    }\n  }, \"merge into one\"), \" when they touch. Add\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }\n  }, \"them up to reach \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 29\n    }\n  }, \"2048!\")))));\n}\n\nexport default Two048;","map":{"version":3,"names":["React","useEffect","useState","currentScore","emptyBoard","hasValue","board","value","i","length","j","isFull","getRandomPosition","rowPosition","Math","floor","random","colPosition","getRandomBoard","row","col","compressToLeft","newBoard","merge","reverseForRight","reversed","rotateLeft","rotateBoard","rotateRight","left","newBoard1","newBoard2","right","up","down","hasWon","hasDiff","movedBoard","isGameOver","checkGameEnded","console","log","Cell","number","Two048","initialBoard","updateBoard","score","updateScore","bestScoreFromStorage","JSON","parse","localStorage","getItem","bestScore","updateBestScore","pressedLeft","setItem","stringify","pressedRight","pressedUp","pressedDown","onKeyDown","event","key","window","addEventListener","removeEventListener","newGame","map","cell"],"sources":["/Users/home/Desktop/Rippling Academy/week2/my-app/src/2048/2048.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport './2048.css';\n\nlet currentScore = 0;\nfunction emptyBoard(){\n\n   return [\n            [0,0,0,0],\n            [0,0,0,0],\n            [0,0,0,0],\n            [0,0,0,0]\n          ]\n};\n\nfunction hasValue(board, value){\n\n  for(let i=0; i < board.length; ++i)\n    for(let j=0; j < board[i].length; ++j){\n      if(board[i][j]===value)\n        return true;\n    }\n  return false;\n}\n\nfunction isFull(board){\n\n  return !hasValue(board,0);  \n}\n\nfunction getRandomPosition(){\n\n   const rowPosition = Math.floor(Math.random()*4); \n   const colPosition = Math.floor(Math.random()*4);\n   return [rowPosition,colPosition];\n}\n\nfunction getRandomBoard(board){\n\n    if(isFull(board))\n        return board;\n    \n    let [row,col] = getRandomPosition();\n    while(board[row][col]!==0){\n      [row,col] = getRandomPosition();\n    }\n    board[row][col] = 2;\n    return board;\n    \n}\n\nfunction compressToLeft(board){\n\n    const newBoard = emptyBoard();\n    for(let i = 0; i < board.length; ++i){\n        \n        let col = 0;\n        for(let j = 0; j < board[i].length; ++j){\n            if(board[i][j]!==0){\n                newBoard[i][col] = board[i][j];\n                col++;\n            }\n        }\n    }\n    return newBoard;\n}\n\nfunction merge(board){\n\n    for(let i = 0; i < board.length; ++i)\n      for(let j = 0; j < board[i].length-1; ++j){\n\n          if(board[i][j]!==0&&board[i][j]===board[i][j+1]){\n              currentScore+=board[i][j];\n              board[i][j] *= 2;\n              board[i][j+1] = 0;\n              \n          }\n      }\n    return board;\n}\n\nfunction reverseForRight(board){\n\n  const reversed = emptyBoard();\n  for(let i = 0; i < board.length; ++i)\n    for(let j = 0; j < board[i].length; j++){\n\n        reversed[i][j] = board[i][board[i].length - j -1];\n    }\n    return reversed;\n}\n\nfunction rotateLeft(board){\n\n  const rotateBoard = emptyBoard();\n  for (let i = 0; i < board.length; i++) {\n    for (let j = 0; j < board[i].length; j++) {\n      rotateBoard[i][j] = board[j][board[i].length - 1 - i];\n    }\n  }\n\n  return rotateBoard;\n};\n\nfunction rotateRight(board){\n\n  const rotateBoard = emptyBoard();\n  for (let i = 0; i < board.length; i++) {\n    for (let j = 0; j < board[i].length; j++) {\n      rotateBoard[i][j] = board[board[i].length - 1 - j][i];\n    }\n  }\n\n  return rotateBoard;\n};\n\nfunction left(board){\n\n    const newBoard1 = compressToLeft(board);\n    const newBoard2 = merge(newBoard1);\n    return compressToLeft(newBoard2);\n}\n\nfunction right(board){\n\n  const newBoard1 = reverseForRight(board);\n  const newBoard2 = left(newBoard1);\n  return reverseForRight(newBoard2);\n}\n\nfunction up(board){\n\n  const newBoard1 = rotateLeft(board);\n  const newBoard2 = left(newBoard1);\n  return rotateRight(newBoard2);\n}\n\nfunction down(board){\n\n  const newBoard1 = rotateRight(board);\n  const newBoard2 = left(newBoard1);\n  return rotateLeft(newBoard2);\n}\n\nfunction hasWon(board){\n\n    return hasValue(board, 2048);\n}\n\nfunction hasDiff(board, movedBoard){\n\n  for (let i = 0; i < board.length; i++) {\n    for (let j = 0; j < board[i].length; j++) {\n\n        if(board[i][j]!==movedBoard[i][j])\n          return true;  \n    }\n  }\n  return false;\n}\n\nfunction isGameOver(board){\n\n  if (hasDiff(board, left(board))) {\n    return false;\n  }\n  if (hasDiff(board, right(board))) {\n    return false;\n  }\n  if (hasDiff(board, up(board))) {\n    return false;\n  }\n  if (hasDiff(board, down(board))) {\n    return false;\n  }\n  return true;\n}\n\nfunction checkGameEnded(board){\n\n    if(hasWon(board))\n      console.log(\"!!!YOU WON!!!!\");\n    else if(isGameOver(board))\n      console.log(\"YOU LOST YOU LOSER!\");\n}\n\nconst Cell = ({ number }) => {\n  return (\n    <span className={`Cell Cell-${number}`}>{number > 0 ? number : \"\"}</span>\n  );\n};\n\nfunction Two048(){\n\n    const initialBoard = getRandomBoard(emptyBoard());\n    const newBoard = getRandomBoard(emptyBoard());\n    const [board,updateBoard] = useState(getRandomBoard(initialBoard));\n    const [score,updateScore] = useState(0);\n    const bestScoreFromStorage = JSON.parse(localStorage.getItem('bestScore'));\n    const [bestScore,updateBestScore] = useState(bestScoreFromStorage);\n\n    function pressedLeft(){\n\n        updateBoard(getRandomBoard(left(board)));\n        updateScore(currentScore);\n        if(currentScore>bestScore){\n\n          localStorage.setItem('bestScore', JSON.stringify(currentScore));\n          updateBestScore(currentScore);\n        }\n        checkGameEnded(board);\n    }\n\n    function pressedRight(){\n\n      updateBoard(getRandomBoard(right(board)));\n      updateScore(currentScore);\n      if(currentScore>bestScore){\n\n        localStorage.setItem('bestScore', JSON.stringify(currentScore));\n        updateBestScore(currentScore);\n      }\n      checkGameEnded(board);\n    }\n\n    function pressedUp(){\n\n      updateBoard(getRandomBoard(up(board)));\n      updateScore(currentScore);\n      if(currentScore>bestScore){\n\n        localStorage.setItem('bestScore', JSON.stringify(currentScore));\n        updateBestScore(currentScore);\n      }\n      checkGameEnded(board);\n    }\n    \n    function pressedDown(){\n\n      updateBoard(getRandomBoard(down(board)));\n      updateScore(currentScore);\n      if(currentScore>bestScore){\n\n        localStorage.setItem('bestScore', JSON.stringify(currentScore));\n        updateBestScore(currentScore);\n      }\n      checkGameEnded(board);\n    }\n\n    function onKeyDown (event) {\n\n        switch (event.key) {\n\n            case \"ArrowLeft\" : pressedLeft(); break;\n            case \"ArrowRight\": pressedRight(); break;\n            case \"ArrowUp\"   : pressedUp(); break;\n            case \"ArrowDown\" : pressedDown(); break;\n            default: \n        }\n        console.log(currentScore);\n    }\n\n   \n    useEffect(()=>{\n\n        window.addEventListener(\"keydown\", onKeyDown);\n        return () => {\n          window.removeEventListener(\"keydown\",onKeyDown);\n        }\n    })\n\n    const newGame = ()=>{\n      updateBoard(getRandomBoard(newBoard));\n      updateScore(0);\n      currentScore=0;\n    }\n   \n    return(\n      \n    <div className=\"Container\">\n      <div className=\"Game\">\n      <div className=\"Header\">\n          <div className=\"Two048\">2048</div>\n          <div className=\"Scores-new\">\n            <div className=\"Scores\">\n              <div className=\"Score\">\n                <div>Score</div>\n                <div className=\"Current-score\">{score}</div>\n              </div>\n              <div className=\"Score\">\n                <div>Best</div>\n                <div>{bestScore}</div>\n              </div>\n            </div>\n          <div className=\"New-game-button\"><button className=\"Button\" onClick={newGame}>New Game</button></div>    \n          </div>           \n      </div>\n        <div className=\"Board\">{board.map((row,i)=>{\n            return(\n              <div key = {'row-${i}'} className=\"Row\">\n                {row.map((cell,j)=>(<Cell key={'cell-${i}-${j}'} number = {cell}/>))}</div>\n          )}) }\n        </div>\n      <div className=\"Instructions\">\n        <p><b>HOW TO PLAY:</b> Use your <b>arrow keys</b> to move the tiles. Tiles</p>\n        <p>with same number <b>merge into one</b> when they touch. Add</p>\n        <p>them up to reach <b>2048!</b></p>\n      </div>\n    </div>\n    </div>\n       \n        \n    );\n}\n\nexport default Two048;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}